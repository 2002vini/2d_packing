<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inani Marbles</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        #bin svg {
          width: 690px; 
          height: 390px;
          border: 1px solid black;
        }
        rect {
          fill: #add8e6; 
          stroke: #000000;
          stroke-width: 1;
        }
    </style>
</head>
<body>
    <div class="row mt-5" style="width: 95%; margin: auto;">
        <div class="col-12 col-sm-6 col-md-3 border" id="input_section">
            <h2 class="mb-4">Input Dimensions</h2>
            <form id="panelForm" method="post">
                <table class="table" id="panelTable">
                    <thead>
                        <tr>
                            <th>Length</th>
                            <th>Width</th>
                            <th>Qty</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="number" name="length[]" class="form-control" required></td>
                            <td><input type="number" name="width[]" class="form-control" required></td>
                            <td><input type="number" name="quantity[]" class="form-control" required></td>
                            <td><button type="button" class="btn btn-primary addRow">+</button></td>
                        </tr>
                    </tbody>
                </table>
                <button type="submit" class="btn btn-success">Submit</button>
            </form>
        </div>
        <div class="col-12 col-sm-6 border text-center" id="graph_section">
            <div id="bin"><svg></svg></div>
        </div>
        <div class="col-12 col-sm-6 col-md-3 border" id="results_section">
            <h2 class="mmb-4">Results:</h2>
            <div class="shadow-sm border p-2 mb-2">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dicta, qui?</div>
            <div class="shadow-sm border p-2 mb-2">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dicta, qui?</div>
            <div class="shadow-sm border p-2 mb-2">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dicta, qui?</div>
            <div class="shadow-sm border p-2 mb-2">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dicta, qui?</div>
            <div class="shadow-sm border p-2 mb-2">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dicta, qui?</div>
            <div class="shadow-sm border p-2 mb-2">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dicta, qui?</div>
            <div class="shadow-sm border p-2 mb-2">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dicta, qui?</div>
            <div class="shadow-sm border p-2 mb-2">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dicta, qui?</div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const tableBody = document.querySelector('#panelTable tbody');
            
            tableBody.addEventListener('click', function(event) {
                if (event.target.classList.contains('addRow')) {
                    const newRow = document.createElement('tr');
                    newRow.innerHTML = `
                        <td><input type="number" name="length[]" class="form-control" required></td>
                        <td><input type="number" name="width[]" class="form-control" required></td>
                        <td><input type="number" name="quantity[]" class="form-control" required></td>
                        <td><button type="button" class="btn btn-danger removeRow">-</button></td>
                    `;
                    tableBody.appendChild(newRow);
                } else if (event.target.classList.contains('removeRow')) {
                    const row = event.target.parentNode.parentNode;
                    row.parentNode.removeChild(row);
                }
            });
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const svgContainer = document.querySelector('#bin svg');

            // Example rectangles data
            const rectangles = [
                {width: 98.25, height: 31.75, x: 0, y: 0}, 
                {width: 38.0, height: 72.0, x: 98.25, y: 0}, 
                {width: 72.0, height: 38.0, x: 0, y: 31.75}, 
                {width: 25.0, height: 45.0, x: 72.0, y: 31.75}
            ];

            rectangles.forEach(rect => {
                const rectElem = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                rectElem.setAttribute("x", rect.x * 5); // scaling factor for display
                rectElem.setAttribute("y", (78 - rect.y - rect.height) * 5); // invert y for bottom-left origin
                rectElem.setAttribute("width", rect.width * 5);
                rectElem.setAttribute("height", rect.height * 5);
                rectElem.setAttribute("fill", "#add8e6"); // Default fill color
                svgContainer.appendChild(rectElem);

                // Tooltip on hover
                const tooltip = document.createElement("div");
                rectElem.addEventListener('mouseover', function(event) {
                    tooltip.textContent = `Width: ${rect.width}, Height: ${rect.height}`;
                    tooltip.style.position = 'absolute';
                    tooltip.style.left = `${event.pageX}px`;
                    tooltip.style.top = `${event.pageY}px`;
                    tooltip.style.padding = '5px';
                    tooltip.style.background = 'white';
                    tooltip.style.border = '1px solid black';
                    document.body.appendChild(tooltip);
                });
                rectElem.addEventListener('mouseout', function() {
                    document.body.removeChild(tooltip);
                });
            });
        });
    </script>
</body>
</html>
